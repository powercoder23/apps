define(["handlebars","moment","i18n"],function(c,b,a){c.registerHelper("ifinline",function(f,e,d){var g="";if(arguments.length===4){g=d}return(f&&!c.Utils.isEmpty(f))?e:g});c.registerHelper("unlessinline",function(e,d){return(e&&!c.Utils.isEmpty(e))?"":d});c.registerHelper("ifequalsinline",function(e,d,g,f){var h="";if(arguments.length===5){h=f}return(e===d)?g:h});c.registerHelper("unlessequalsinline",function(e,d,f){return(e===d)?"":f});c.registerHelper("ifequals",function(e,d,f){if(e===d){return f.fn(this)}else{return f.inverse(this)}});c.registerHelper("unlessequals",function(e,d,f){var g=f.fn;f.fn=f.inverse;f.inverse=g;return c.helpers.ifequals.call(this,e,d,f)});c.registerHelper("for",function(e,f,m){var l=m.fn,g=m.inverse;var d=(e!==undefined&&!isNaN(parseInt(e,10))&&e>=0);var k=(f!==undefined&&!isNaN(parseInt(f,10))&&f>=0);var j="";if(d&&k&&parseInt(e,10)<=parseInt(f,10)){for(var h=e;h<=f;h++){j=j+l(h)}}else{j=g(this)}return j});c.registerHelper("modulo",function(f,d,e){if((f%d)===0){return e.fn()}else{return e.inverse()}});c.registerHelper("formatDate",function(f,e,d){var g="YYYY-MM-DD HH:mm:ss";var h;if(f){if((f instanceof Date)||(f instanceof Array)){h=b(f)}else{if(typeof(f)==="string"){if(!d||(typeof(d)!=="string")){d=g}h=b(f,d)}else{return f}}}else{return""}if(!e||(typeof(e)!=="string")){e=g}return h.format(e)});c.registerHelper("t",function(e){var d=a.t(e);return new c.SafeString(d)});c.registerHelper("everyNth",function(d,l,p){var o=p.fn,g=p.inverse;var m="";if(d&&d.length>0){for(var h=0,f=d.length;h<f;h++){var e=h===0;var n=h/4+1;var k=h%l===0;m=m+o(_.extend({},d[h],{isFirst:e,rowCount:n,isModZero:k,isModZeroNotFirst:k&&h>0,isLast:h===d.length-1}))}}else{m=g(this)}return m});return c});